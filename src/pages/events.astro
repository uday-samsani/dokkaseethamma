---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';

const upcomingEvents = [
  {
    id: 'event-0',
    title: 'Monthly Food Distribution',
    date: '2025-02-25',
    time: '10:00 AM - 2:00 PM',
    location: 'Community Center, Vijayawada',
    image: 'https://images.unsplash.com/photo-1593113598332-cd288d649433?w=800&q=80',
    description: 'Join us as we serve nutritious meals to over 500 people in need. This monthly event is the heart of our mission, bringing together volunteers and community members to share food and compassion.',
    status: 'upcoming',
  },
  {
    id: 'event-1',
    title: 'Annadanam Program',
    date: '2025-03-08',
    time: '11:00 AM - 3:00 PM',
    location: 'Temple Premises, Guntur',
    image: 'https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?w=800&q=80',
    description: 'Special food distribution event in honor of Dokka Seethamma. We will be serving traditional meals and prasad to devotees and the needy.',
    status: 'upcoming',
  },
  {
    id: 'event-2',
    title: 'Community Kitchen Setup',
    date: '2025-03-20',
    time: '9:00 AM - 5:00 PM',
    location: 'Rural Community Center',
    image: 'https://images.unsplash.com/photo-1556910103-1c02745aae4d?w=800&q=80',
    description: 'Setting up a new community kitchen to expand our reach. Volunteers needed for setup, cooking equipment installation, and initial operations.',
    status: 'upcoming',
  },
];

const pastEvents = [
  {
    id: 'past-0',
    title: 'New Year Food Drive',
    date: '2025-01-01',
    mealsServed: 1200,
    location: 'Multiple Locations, Vijayawada',
    image: 'https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=800&q=80',
    description: 'Welcomed the new year by serving over 1,200 meals across multiple locations in the city.',
    report: true,
  },
  {
    id: 'past-1',
    title: 'Christmas Special Distribution',
    date: '2024-12-25',
    mealsServed: 800,
    location: 'Old Age Home & Orphanage',
    image: 'https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=800&q=80',
    description: 'Spread Christmas cheer by distributing special meals and gifts to elderly and children.',
    report: true,
  },
  {
    id: 'past-2',
    title: 'Monthly Distribution - November',
    date: '2024-11-28',
    mealsServed: 650,
    location: 'Community Center, Vijayawada',
    image: 'https://images.unsplash.com/photo-1593113630400-ea4288922497?w=800&q=80',
    description: 'Regular monthly distribution serving nutritious meals to community members in need.',
    report: true,
  },
  {
    id: 'past-3',
    title: 'Diwali Special Annadanam',
    date: '2024-11-01',
    mealsServed: 1500,
    location: 'Temple Complex',
    image: 'https://images.unsplash.com/photo-1578357078586-491adf1aa5ba?w=800&q=80',
    description: 'Celebrated the festival of lights by serving traditional Diwali meals to over 1,500 people.',
    report: true,
  },
];

const transparencyReports = [
  {
    month: 'January 2025',
    meals: 1200,
    volunteers: 45,
    expenses: '₹45,000',
  },
  {
    month: 'December 2024',
    meals: 2300,
    volunteers: 78,
    expenses: '₹86,000',
  },
  {
    month: 'November 2024',
    meals: 650,
    volunteers: 25,
    expenses: '₹24,000',
  },
];

const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return {
    day: date.getDate(),
    month: date.toLocaleString('en-US', { month: 'short' }),
    full: date.toLocaleString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }),
  };
};
---

<Layout 
  title="Events" 
  description="View upcoming food distribution events and past activities of Dokka Seethamma Charitable Trust. Join us in serving the community."
>
  <Navigation />

  <!-- Hero Section -->
  <section class="relative pt-32 pb-16 lg:pb-24 bg-gradient-to-b from-golden-50 to-cream-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-3xl mx-auto">
        <span class="inline-block px-4 py-1.5 rounded-full bg-golden-100 text-golden-700 text-sm font-medium mb-4">
          Events
        </span>
        <h1 class="text-4xl lg:text-5xl font-bold text-earth-900 mb-6">
          Upcoming <span class="text-golden-600">Events</span>
        </h1>
        <p class="text-lg text-earth-600 leading-relaxed">
          Join us at our food distribution events and be part of the change. Every event is an opportunity to serve and make a difference.
        </p>
      </div>
    </div>
  </section>

  <!-- Upcoming Events -->
  <section class="py-16 lg:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl lg:text-3xl font-bold text-earth-900 mb-8">Upcoming Events</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {upcomingEvents.map((event) => {
          const date = formatDate(event.date);
          return (
            <div id={event.id} class="group bg-cream-50 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300">
              <div class="aspect-video overflow-hidden">
                <img
                  src={event.image}
                  alt={event.title}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                />
              </div>
              <div class="p-6">
                <div class="flex items-center gap-4 mb-4">
                  <div class="bg-white rounded-lg shadow-sm p-2 text-center min-w-[60px]">
                    <div class="text-2xl font-bold text-golden-600">{date.day}</div>
                    <div class="text-xs font-medium text-earth-600 uppercase">{date.month}</div>
                  </div>
                  <div>
                    <span class="inline-block px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium">
                      Upcoming
                    </span>
                  </div>
                </div>
                
                <h3 class="text-xl font-bold text-earth-900 mb-2 group-hover:text-golden-700 transition-colors">
                  {event.title}
                </h3>
                <p class="text-earth-600 text-sm mb-4 line-clamp-2">{event.description}</p>
                
                <div class="space-y-2 text-sm text-earth-500 mb-4">
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4 text-golden-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span>{event.time}</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4 text-golden-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span>{event.location}</span>
                  </div>
                </div>
                
                <a
                  href={`/contact?event=${event.id}`}
                  class="block w-full text-center px-4 py-2.5 rounded-lg bg-golden-500 text-white font-medium hover:bg-golden-600 transition-colors"
                >
                  Register Interest
                </a>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Past Events -->
  <section class="py-16 lg:py-24 bg-cream-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl lg:text-3xl font-bold text-earth-900 mb-8">Past Events</h2>
      
      <div class="grid md:grid-cols-2 gap-6">
        {pastEvents.map((event) => {
          const date = formatDate(event.date);
          return (
            <div id={event.id} class="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300">
              <div class="flex flex-col sm:flex-row">
                <div class="sm:w-2/5 aspect-video sm:aspect-auto overflow-hidden">
                  <img
                    src={event.image}
                    alt={event.title}
                    class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                  />
                </div>
                <div class="sm:w-3/5 p-6">
                  <div class="flex items-center gap-2 mb-2">
                    <span class="text-sm text-golden-600 font-medium">{date.full}</span>
                  </div>
                  <h3 class="text-lg font-bold text-earth-900 mb-2 group-hover:text-golden-700 transition-colors">
                    {event.title}
                  </h3>
                  <p class="text-earth-600 text-sm mb-3">{event.description}</p>
                  <div class="flex items-center gap-4 text-sm">
                    <span class="flex items-center gap-1 text-green-600">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                      </svg>
                      {event.mealsServed} meals
                    </span>
                  </div>
                </div>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Transparency Reports -->
  <section class="py-16 lg:py-24 bg-white" id="reports">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <span class="inline-block px-4 py-1.5 rounded-full bg-golden-100 text-golden-700 text-sm font-medium mb-4">
          Transparency Reports
        </span>
        <h2 class="text-3xl lg:text-4xl font-bold text-earth-900">
          Monthly <span class="text-golden-600">Reports</span>
        </h2>
        <p class="text-earth-600 mt-4 max-w-2xl mx-auto">
          We believe in complete transparency. View our monthly reports detailing meals served, volunteers engaged, and funds utilized.
        </p>
      </div>

      <div class="bg-cream-50 rounded-2xl overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead class="bg-golden-100">
              <tr>
                <th class="px-6 py-4 text-left text-sm font-semibold text-earth-900">Month</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-earth-900">Meals Served</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-earth-900">Volunteers</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-earth-900">Expenses</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-earth-900">Report</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-golden-200">
              {transparencyReports.map((report) => (
                <tr class="hover:bg-golden-50/50">
                  <td class="px-6 py-4 text-sm text-earth-900 font-medium">{report.month}</td>
                  <td class="px-6 py-4 text-sm text-earth-600">{report.meals.toLocaleString()}</td>
                  <td class="px-6 py-4 text-sm text-earth-600">{report.volunteers}</td>
                  <td class="px-6 py-4 text-sm text-earth-600">{report.expenses}</td>
                  <td class="px-6 py-4">
                    <a href="#" class="text-sm text-golden-600 hover:text-golden-700 font-medium inline-flex items-center gap-1">
                      View Report
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                      </svg>
                    </a>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 lg:py-24 bg-gradient-to-r from-earth-800 to-earth-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
        Want to Host an Event?
      </h2>
      <p class="text-cream-200 text-lg mb-8 max-w-2xl mx-auto">
        We can help organize food distribution events in your community. Get in touch with us to discuss collaboration opportunities.
      </p>
      <a
        href="/contact"
        class="inline-flex items-center justify-center px-8 py-4 rounded-full bg-golden-500 text-white font-semibold text-lg shadow-lg hover:shadow-xl hover:bg-golden-600 transition-all"
      >
        Get in Touch
      </a>
    </div>
  </section>

  <Footer />
</Layout>
